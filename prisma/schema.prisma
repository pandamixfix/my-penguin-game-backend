generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model players_fidele_game {
  id                BigInt    @id
  created_at        DateTime  @default(now()) @db.Timestamptz(6)
  name              String?   @db.Text
  score             BigInt?   @default(0)
  gold              Int?      @default(0)
  player_upgrades   player_upgrades[]
  memory_game_state memory_game_state?
}

model player_upgrades {
  player_id    BigInt
  upgrade_type String @db.Text
  level        Int
  player       players_fidele_game @relation(fields: [player_id], references: [id], onDelete: Cascade)

  @@id([player_id, upgrade_type])
}

model memory_game_state {
  user_id              BigInt    @id
  last_game_started_at DateTime? @db.Timestamp(6)
  current_game_state   Json?
  time_left_ms         Int?
  player               players_fidele_game @relation(fields: [user_id], references: [id], onDelete: Cascade)
}